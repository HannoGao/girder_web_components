(function(e){function t(t){for(var n,i,o=t[0],l=t[1],c=t[2],d=0,p=[];d<o.length;d++)i=o[d],a[i]&&p.push(a[i][0]),a[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,o=1;o<r.length;o++){var l=r[o];0!==a[l]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},s=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/girder_web_components/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0b88":function(e,t,r){"use strict";var n=r("603c"),a=r.n(n);a.a},"0d7f":function(e,t,r){"use strict";var n=r("c90e"),a=r.n(n);a.a},"0e3a":function(e,t,r){"use strict";var n=r("fe43"),a=r.n(n);a.a},"23cb":function(e,t,r){"use strict";var n=r("fed8"),a=r.n(n);a.a},"30b3":function(e,t,r){"use strict";var n=r("3ffc"),a=r.n(n);a.a},"3ffc":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("097d");var n=r("2b0e"),a=r("9437"),s=r.n(a),i=r("ce5b"),o=r.n(i),l=(r("41e6"),r("bf40"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"girder-authentication-component"},[r("v-tabs",{attrs:{color:"primary","slider-color":"yellow",dark:""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[r("v-tab",{key:"login"},[e._v("Log In")]),e.register?r("v-tab",{key:"registration"},[e._v("Register")]):e._e(),r("v-tab-item",{key:"login-box"},[r("girder-login",{attrs:{"oauth-providers":e.oauthProviders,"forgot-password-url":e.forgotPasswordUrl,"forgot-password-route":e.forgotPasswordRoute},on:{forgotpassword:function(t){e.$emit("forgotpassword")}}})],1),e.register?r("v-tab-item",{key:"registration-box"},[r("girder-registration",{attrs:{"oauth-providers":e.oauthProviders}})],1):e._e()],1)],1)}),c=[],u=(r("96cf"),r("3040")),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-widget"},[e._l(e.alerts.errors,function(t){return r("v-alert",{key:t,staticClass:"mt-0",attrs:{dismissible:"",transition:"scale-transition",value:!!t,type:"error"}},[e._v(e._s(t))])}),r("v-container",[r("v-form",{ref:"login",on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[r("v-text-field",{attrs:{label:"Username or e-mail",autofocus:"",rules:e.nonEmptyRules,"prepend-icon":"$vuetify.icons.user",type:"text"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),r("v-text-field",{attrs:{type:"password",label:"Password",rules:e.nonEmptyRules,"prepend-icon":"$vuetify.icons.lock"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("v-layout",{attrs:{row:""}},[r("v-btn",{staticClass:"ml-0",attrs:{type:"submit",color:"primary",disabled:e.inProgress,loading:e.inProgress}},[r("v-icon",{attrs:{left:""}},[e._v("$vuetify.icons.login")]),e._v("Login")],1),r("v-spacer"),r("v-btn",{attrs:{flat:"",color:"primary",to:e.forgotPasswordRoute,href:e.forgotPasswordUrl},on:{click:function(t){e.$emit("forgotpassword")}}},[e._v("Forgot Password?")])],1)],1)],1),e.oauthProviders&&e.oauthProviders.length?[r("v-divider"),r("girder-oauth",{attrs:{providers:e.oauthProviders}})]:e._e()],2)},p=[],f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"oauth-widget"},[r("h4",[e._v("Or "+e._s(e.verb)+" with OAuth")]),e._l(e.providers,function(t){return r("v-btn",{key:t.id,staticClass:"ml-0 mr-3",attrs:{dark:e.iconMap[t.id].dark,color:e.iconMap[t.id].color,href:t.url}},[r("v-icon",{attrs:{left:""}},[e._v(e._s(e.$vuetify.icons[e.iconMap[t.id].icon]))]),e._v(e._s(t.name))],1)})],2)},h=[],m={github:{dark:!0,icon:"github"},google:{dark:!0,icon:"google",color:"#3367d6"},linkedin:{dark:!0,icon:"linkedin",color:"#283e4a"},bitbucket:{dark:!1,icon:"bitbucket"},box:{dark:!0,icon:"box_com",color:"#0071f7"},globus:{dark:!0,icon:"globus",color:"#335a95"}},v={props:{verb:{type:String,default:"sign in"},providers:{type:Array,required:!0}},data:function(){return{enabledProviders:[],iconMap:m}}},g=v,b=r("2877"),w=Object(b["a"])(g,f,h,!1,null,null,null),k=w.exports,y={inject:["girderRest"],components:{GirderOauth:k},props:{forgotPasswordUrl:{type:String,default:null},forgotPasswordRoute:{type:Object,default:null},oauthProviders:{type:Array,default:function(){return[]}}},data:function(){return{username:"",password:"",inProgress:!1,alerts:{errors:[]},nonEmptyRules:[function(e){return!!e||"Item is required"}]}},methods:{login:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.$refs.login.validate()){e.next=2;break}return e.abrupt("return");case 2:return this.alerts.errors=[],this.inProgress=!0,e.prev=4,e.next=7,this.girderRest.login(this.username,this.password);case 7:e.next=17;break;case 9:if(e.prev=9,e.t0=e["catch"](4),e.t0.response&&401===e.t0.response.status){e.next=16;break}throw this.alerts.errors.push("Unknown error."),e.t0;case 16:this.alerts.errors.push(e.t0.response.data.message||"Unauthorized.");case 17:return e.prev=17,this.inProgress=!1,e.finish(17);case 20:case"end":return e.stop()}},e,this,[[4,9,17,20]])}));return function(){return e.apply(this,arguments)}}()}},x=y,_=Object(b["a"])(x,d,p,!1,null,null,null),R=_.exports,C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register-widget"},[e._l(e.alerts.errors,function(t){return r("v-alert",{key:t,staticClass:"mt-0",attrs:{dismissible:"",transition:"scale-transition",value:!0,type:"error"}},[e._v(e._s(t))])}),e._l(e.alerts.infos,function(t){return r("v-alert",{key:t,staticClass:"mt-0",attrs:{dismissible:"",transition:"scale-transition",value:!0,type:"info"}},[e._v(e._s(t))])}),r("v-container",[r("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[r("v-text-field",{attrs:{label:"Username",rules:e.nonEmptyRules,type:"text",autofocus:""},model:{value:e.login,callback:function(t){e.login=t},expression:"login"}}),r("v-text-field",{attrs:{label:"Email",rules:e.nonEmptyRules,type:"email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("v-text-field",{attrs:{label:"First Name",rules:e.nonEmptyRules,type:"text"},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),r("v-text-field",{attrs:{label:"Last Name",rules:e.nonEmptyRules,type:"text"},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}}),r("v-text-field",{attrs:{type:"password",label:"Password",rules:e.nonEmptyRules},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("v-text-field",{attrs:{type:"password",label:"Retype password",rules:e.retypeMustMatchPasswordRules},model:{value:e.retypePassword,callback:function(t){e.retypePassword=t},expression:"retypePassword"}}),r("v-btn",{staticClass:"ml-0",attrs:{type:"submit",color:"primary",loading:e.inProgress}},[e._v("Register")])],1)],1),e.oauthProviders&&e.oauthProviders.length?[r("v-divider"),r("girder-oauth",{attrs:{verb:"register",providers:e.oauthProviders}})]:e._e()],2)},O=[],j={inject:["girderRest"],components:{GirderOauth:k},props:{oauthProviders:{type:Array,default:function(){return[]}}},data:function(){var e=this,t=[function(e){return!!e||"Item is required"}],r=t.concat([function(t){return t===e.password||"Passwords must match"}]);return{login:"",email:"",firstName:"",lastName:"",password:"",retypePassword:"",retypePasswordErrors:[],inProgress:!1,alerts:{errors:[],infos:[]},nonEmptyRules:t,retypeMustMatchPasswordRules:r}},methods:{register:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.$refs.form.validate()){e.next=2;break}return e.abrupt("return");case 2:return this.inProgress=!0,this.alerts.errors=[],this.alerts.infos=[],e.prev=5,e.next=8,this.girderRest.register(this.login,this.email,this.firstName,this.lastName,this.password);case 8:t=e.sent,t.data.authToken||(this.alerts.infos.push("Registration needs email verification or administrator approval. \nCheck your email to continue."),this.$refs.form.reset()),e.next=20;break;case 12:if(e.prev=12,e.t0=e["catch"](5),e.t0.response&&400===e.t0.response.status){e.next=19;break}throw this.alerts.errors.push("Unknown error."),e.t0;case 19:this.alerts.errors.push(e.t0.response.data.message||"Invalid registration.");case 20:return e.prev=20,this.inProgress=!1,e.finish(20);case 23:case"end":return e.stop()}},e,this,[[5,12,20,23]])}));return function(){return e.apply(this,arguments)}}()}},P=j,$=Object(b["a"])(P,C,O,!1,null,null,null),E=$.exports,T={inject:["girderRest"],components:{GirderLogin:R,GirderRegistration:E},props:{register:{type:Boolean,default:!1},oauth:{type:Boolean,default:!1},forgotPasswordUrl:{type:String,default:null},forgotPasswordRoute:{type:[Object,String],default:null}},data:function(){return{activeTab:null}},asyncComputed:{oauthProviders:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.oauth){e.next=12;break}return e.prev=1,e.next=4,this.girderRest.get("oauth/provider",{params:{redirect:window.location.href,list:!0}});case 4:return e.abrupt("return",e.sent.data);case 7:return e.prev=7,e.t0=e["catch"](1),e.abrupt("return",[]);case 10:e.next=13;break;case 12:return e.abrupt("return",[]);case 13:case"end":return e.stop()}},e,this,[[1,7]])}));return function(){return e.apply(this,arguments)}}()}},z=T,U=Object(b["a"])(z,l,c,!1,null,null,null),F=U.exports,M=F,N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-data-table",{staticClass:"girder-file-browser-component elevation-1",attrs:{"select-all":"","headers-length":4,pagination:e.pagination,items:e.rows,"total-items":e.totalItems,loading:!!e.loading&&"accent","item-key":"_id"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"headers",fn:function(t){return[r("tr",{staticClass:"secondary lighten-5"},[e.selectEnabled?r("th",{staticClass:"pl-3 pr-0",attrs:{width:"1%"}},[r("v-checkbox",{staticClass:"secondary--text text--darken-1 pr-2",attrs:{color:"accent","hide-details":"","input-value":t.all,indeterminate:e.selected.length>0&&!t.all},nativeOn:{click:function(t){return e.toggleAll(t)}}})],1):e._e(),r("th",{staticClass:"pl-3"},[r("girder-breadcrumb",{ref:"breadcrumb",attrs:{location:e.location},on:{crumbclick:e.changeLocation}})],1),r("th",{staticClass:"pr-0 align-right",attrs:{width:"1%"}},[e.newFolderEnabled?r("v-btn",{attrs:{flat:"",small:"",color:"secondary darken-2"},on:{click:function(t){e.$emit("click:newfolder")}}},[r("v-icon",{staticClass:"mdi-24px mr-1",attrs:{left:"",color:"accent"}},[e._v(e._s(e.$vuetify.icons.folderNew))]),r("span",{staticClass:"hidden-xs-only"},[e._v("New Folder")])],1):e._e()],1),r("th",{staticClass:"pl-0 pr-1 align-right",attrs:{width:"1%"}},[e.newItemEnabled?r("v-btn",{attrs:{flat:"",small:"",color:"secondary darken-2"},on:{click:function(t){e.$emit("click:newitem")}}},[r("v-icon",{staticClass:"mdi-24px mr-1",attrs:{left:"",color:"accent"}},[e._v(e._s(e.$vuetify.icons.fileNew))]),r("span",{staticClass:"hidden-xs-only"},[e._v("New Item")])],1):e._e()],1)])]}},{key:"items",fn:function(t){return[r("tr",{key:t.index,staticClass:"itemRow",attrs:{active:t.selected},on:{click:function(r){e.selectEnabled&&(t.selected=!t.selected)}}},[e.selectEnabled?r("td",{staticClass:"pl-3 pr-0"},[r("v-checkbox",{staticClass:"secondary--text text--darken-1 pr-2",attrs:{"input-value":t.selected,accent:"","hide-details":""}})],1):e._e(),r("td",{staticClass:"pl-3",attrs:{colspan:"2"}},[r("span",{staticClass:"text-container secondary--text text--darken-3 nobreak",class:{selectable:"item"!==t.item._modelType},on:{click:function(r){r.stopPropagation(),e.changeLocation(t.item)}}},[r("v-icon",{staticClass:"pr-2",attrs:{color:t.selected?"accent":""}},[e._v(e._s(e.$vuetify.icons[t.item.icon]))]),e._v(e._s(t.item.name))],1)]),r("td",{staticClass:"text-xs-right secondary--text text--darken-3 nobreak"},[e._v(e._s(t.item.size))])])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})},I=[],S=r("c93e"),L=r("8afe"),B=(r("ac6a"),r("7f7f"),{methods:{formatSize:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.base,a=void 0===n?1024:n,s=r.unit,i=void 0===s?"B":s;if(e<a)return"".concat(e," ").concat(i);var o=e;for(t=0;o>=a&&t<4;t+=1)o/=a;return"".concat(o.toFixed(2),"  ").concat(["","K","M","G","T"][t]).concat(i)}}}),q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-breadcrumbs",{staticClass:"girder-breadcrumb-component font-weight-bold pa-0"},[r("span",{staticClass:"subheading font-weight-bold",attrs:{slot:"divider",disabled:e.disabled},slot:"divider"},[e._v("/")]),r("v-breadcrumbs-item",{attrs:{disabled:e.disabled||0===e.breadcrumb.path.length},nativeOn:{click:function(t){e.$emit("crumbclick",e.breadcrumb.root)}}},[r("v-icon",{staticClass:"mdi-24px pr-2",attrs:{color:"accent"}},[e._v(e._s(e.$vuetify.icons.globe))]),e._v(e._s(e.breadcrumb.root.name))],1),e._l(e.breadcrumb.path,function(t,n){return r("v-breadcrumbs-item",{key:t._id,attrs:{disabled:e.disabled||n==e.breadcrumb.path.length-1},nativeOn:{click:function(r){e.$emit("crumbclick",t)}}},[e._v(e._s(t.name))])}),e._l(e.append,function(t){return r("v-breadcrumbs-item",{key:t._id},[e._v(e._s(t))])})],2)},G=[],D={props:{location:{type:Object,required:!0,validator:function(e){return e._modelType&&e._id}},disabled:{type:Boolean,default:!1},append:{type:Array,default:function(){return[]}}},inject:["girderRest"],data:function(){return{loading:!1}},asyncComputed:{breadcrumb:{default:{root:{},path:[]},get:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,s,i,o,l,c,u,d,p=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.loading=!0,t={root:{},path:[]},r=this.location,n=r._id,a=r._modelType,s=r.name,"folder"!==a){e.next=20;break}if(!s){e.next=8;break}t.path.unshift(this.location),e.next=13;break;case 8:return e.next=10,this.girderRest.get("folder/".concat(n));case 10:i=e.sent,o=i.data,t.path.unshift(this.extractCrumbData(o));case 13:return e.next=15,this.girderRest.get("folder/".concat(n,"/rootpath"));case 15:l=e.sent,c=l.data,c.reverse().forEach(function(e){var r=e.object,n=p.extractCrumbData(r);"folder"===n._modelType?t.path.unshift(n):t.root=n}),e.next=25;break;case 20:return e.next=22,this.girderRest.get("".concat(a,"/").concat(n));case 22:u=e.sent,d=u.data,t.root=this.extractCrumbData(d);case 25:return this.loading=!1,e.abrupt("return",t);case 27:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},methods:{extractCrumbData:function(e){return Object(S["a"])({},e,{name:"user"!==e._modelType?e.name:e.login})}}},A=D,J=Object(b["a"])(A,q,G,!1,null,null,null),H=J.exports,X="folder",K="item",V={components:{GirderBreadcrumb:H},mixins:[B],props:{location:{type:Object,required:!0,validator:function(e){return e._modelType&&e._id}},selectEnabled:{type:Boolean,default:!0},multiSelectEnabled:{type:Boolean,default:!1},uploadEnabled:{type:Boolean,default:!1},newItemEnabled:{type:Boolean,default:!0},newFolderEnabled:{type:Boolean,default:!0}},inject:["girderRest"],data:function(){return{pagination:{rowsPerPage:10,page:1},refreshCounter_:0,rows:[],rowsLoading:!1,selected:[]}},computed:{loading:function(){return this.$refs.breadcrumb&&this.$refs.breadcrumb.loading||this.rowsLoading},totalItems:function(){return this.counts.nFolders+this.counts.nItems}},asyncComputed:{counts:{default:{nFolders:0,nItems:0},get:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.location,r=t._modelType,n=t._id,a="".concat(r,"/").concat(n,"/details"),e.next=4,this.girderRest.get(a);case 4:return s=e.sent,i=s.data,e.abrupt("return",{nFolders:i.nFolders||0,nItems:i.nItems||0});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),watch:function(){return[this.refreshCounter_,this.location]}}},watch:{location:function(e,t){e._id!==t._id&&(this.pagination.page=1)},selected:function(e){this.$emit("selection-changed",e)},counts:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchPaginatedRows();case 2:this.rows=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),pagination:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchPaginatedRows();case 2:this.rows=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},methods:{toggleAll:function(){this.selected.length===this.rows.length?this.selected=[]:this.selected=this.rows.slice()},changeLocation:function(e){var t=e._modelType,r=e._id,n=e.name;this.location._id===r&&this.location._modelType===t||"item"===t||this.$emit("update:location",{_modelType:t,_id:r,name:n})},refresh:function(){this.refreshCounter_+=1},fetchPaginatedRows:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,s,i,o,l,c,u,d,p,f,h=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.counts.nFolders||this.counts.nItems){e.next=2;break}return e.abrupt("return",[]);case 2:return this.rowsLoading=!0,r=this.counts,n=this.location,a=this.pagination,s=a.page,i=a.rowsPerPage,o={parentType:n._modelType,parentId:n._id,limit:i>=0?i:null,offset:(s-1)*i},l=r.nFolders>o.offset?i-(r.nFolders-o.offset):i,c=o.offset-r.nFolders,u={folderId:n._id,limit:i>=0?l:null,offset:c>0?c:0},d=[],d.push(this.girderRest.get(X,{params:o})),(u.limit>0||null===u.limit)&&"folder"===n._modelType&&d.push(this.girderRest.get(K,{params:u})),e.next=14,Promise.all(d);case 14:return e.t0=function(e){return e.data},p=e.sent.map(e.t0),f=(t=[].concat).apply.apply(t,Object(L["a"])(p)).map(function(e){return Object(S["a"])({},e,{size:e.size?h.formatSize(e.size):"",icon:e._modelType in h.$vuetify.icons?e._modelType:"file"})}),this.rowsLoading=!1,e.abrupt("return",f);case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},W=V,Y=(r("0b88"),r("0d7f"),Object(b["a"])(W,N,I,!1,null,"a5e83e64",null)),Q=Y.exports,Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"g-md-viewer",domProps:{innerHTML:e._s(e.markdown)}})},ee=[],te=r("d4cd"),re=r.n(te),ne={props:{text:{default:"",type:String}},computed:{markdown:function(){return re()({linkify:!0}).render(this.text)}}},ae=ne,se=(r("23cb"),Object(b["a"])(ae,Z,ee,!1,null,null,null)),ie=se.exports,oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"girder-markdown-editor"},[r("v-tabs",{staticClass:"md-tab",model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[r("v-tab",{key:"edit"},[e._v("Edit")]),r("v-tab-item",[r("v-textarea",{attrs:{"hide-details":"",box:"","single-line":"",label:e.label,placeholder:e.placeholder},model:{value:e.text_,callback:function(t){e.text_=t},expression:"text_"}})],1),r("v-tab",{key:"preview"},[e._v("Preview")]),r("v-tab-item",{staticClass:"md-preview pa-2 grey lighten-3"},[r("girder-markdown",{attrs:{text:e.text_}})],1)],1),r("v-toolbar",{attrs:{dark:"",color:"secondary darken-2"}},[r("span",{staticClass:"hidden-xs-only"},[e._v("Supports"),r("a",{attrs:{href:"https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet"}},[e._v(" Markdown")])]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{class:{active:0===e.activeTab},attrs:{flat:""},on:{click:function(t){e.activeTab=0}}},[r("v-layout",{attrs:{"align-center":"","justify-content":"",column:""}},[r("v-icon",{staticClass:"mdi-24px"},[e._v(e._s(e.$vuetify.icons.edit))]),r("span",{staticClass:"caption text-capitalize"},[e._v("Write")])],1)],1),r("v-btn",{class:{active:1===e.activeTab},attrs:{flat:""},on:{click:function(t){e.activeTab=1}}},[r("v-layout",{attrs:{"align-center":"","justify-content":"",column:""}},[r("v-icon",{staticClass:"mdi-24px"},[e._v(e._s(e.$vuetify.icons.preview))]),r("span",{staticClass:"caption text-capitalize"},[e._v("Preview")])],1)],1)],1)],1)],1)},le=[],ce={components:{GirderMarkdown:ie},model:{prop:"text",event:"changed"},props:{placeholder:{default:null,type:String},text:{default:"",type:String},label:{type:String,default:""}},data:function(){return{activeTab:0,text_:this.text}},watch:{text:function(){this.text_=this.text},text_:function(){this.$emit("changed",this.text_)}}},ue=ce,de=(r("0e3a"),Object(b["a"])(ue,oe,le,!1,null,null,null)),pe=de.exports,fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{flat:"",height:"100%"}},[r("v-layout",{attrs:{column:"","fill-height":""}},[e._t("header",[r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("div",{staticClass:"headline"},[e._v("Upload to "),r("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.dest.name))])]),r("div",{staticClass:"grey--text"},[e._v(e._s(e.statusMessage))])])])]),e.uploading?r("v-progress-linear",{attrs:{value:e.totalProgressPercent,height:"20"}}):e._e(),r("v-card-actions",{directives:[{name:"show",rawName:"v-show",value:e.files.length&&!e.errorMessage&&!e.uploading,expression:"files.length && !errorMessage && !uploading"}]},[r("v-btn",{attrs:{flat:""},on:{click:function(t){e.files=[]}}},[e._v("Clear all")]),r("v-btn",{attrs:{flat:"",color:"primary"},on:{click:e.start}},[e._v("Start upload")])],1),e._t("dropzone",[e.files.length?e._e():r("div",{staticClass:"dropzone-wrapper",class:e.dropzoneClass,on:{dragenter:function(t){e.dropzoneClass="animate"},dragleave:function(t){e.dropzoneClass=null},drop:function(t){e.dropzoneClass=null}}},[r("v-layout",{staticClass:"dropzone-message",attrs:{column:"","justify-center":"","align-center":"","fill-height":""}},[r("v-icon",{attrs:{size:"50px"}},[e._v("$vuetify.icons.fileUpload")]),r("div",{staticClass:"title mt-3"},[e._v(e._s(e.dropzoneMessage))])],1),r("input",{staticClass:"file-input",attrs:{type:"file",multiple:e.multiple},on:{change:e.filesChanged}})],1)]),e.errorMessage?r("div",[r("v-alert",{attrs:{value:!0,dark:"",type:"error"}},[e._v(e._s(e.errorMessage)),e.uploading?e._e():r("v-btn",{attrs:{dark:"",outline:""},on:{click:e.start}},[e._v("Resume upload")])],1)],1):e._e(),e._t("files",[r("v-list",{directives:[{name:"show",rawName:"v-show",value:e.files.length,expression:"files.length"}],attrs:{dense:""}},e._l(e.files,function(t,n){return r("div",{key:t.file.name,staticClass:"file-tile",class:"status-"+t.status},[n>0?r("v-divider"):e._e(),r("v-list-tile",{attrs:{avatar:""}},[r("v-list-tile-avatar",["pending"===t.status?r("v-btn",{attrs:{icon:""},on:{click:function(t){e.files.splice(n,1)}}},[r("v-icon",[e._v("$vuetify.icons.close")])],1):e._e(),"uploading"===t.status?r("v-progress-circular",{attrs:{color:"primary",rotate:-90,value:e.progressPercent(t.progress),indeterminate:t.progress.indeterminate}}):e._e(),"done"===t.status?r("v-icon",{attrs:{color:"success",large:""}},[e._v("$vuetify.icons.complete")]):e._e(),"error"===t.status?r("v-icon",{attrs:{color:"error",large:""}},[e._v("$vuetify.icons.error")]):e._e()],1),r("v-list-tile-content",[r("v-list-tile-title",[e._v(e._s(t.file.name))]),r("v-list-tile-sub-title",[t.progress.current?r("span",[e._v(e._s(e.formatSize(t.progress.current))+" /")]):e._e(),r("span",[e._v(e._s(e.formatSize(t.file.size)))])])],1)],1)],1)}))])],2)],1)},he=[],me=(r("f751"),r("6bde")),ve=r("c665"),ge=r("aa9a"),be=r("4328"),we=r("9393"),ke=(r("ffc1"),r("bc3a")),ye=r.n(ke),xe=function(){function e(t){Object(ve["a"])(this,e),Object.assign(this,t,{etags:{},offset:0,partNumber:1})}return Object(ge["a"])(e,[{key:"_finalizeMultipartXml",value:function(){var e=document.implementation.createDocument(null,null,null),t=e.createElement("CompleteMultipartUpload");return Object.entries(this.etags).forEach(function(r){var n=Object(we["a"])(r,2),a=n[0],s=n[1],i=e.createElement("Part"),o=e.createElement("PartNumber"),l=e.createElement("ETag");o.appendChild(e.createTextNode(a)),l.appendChild(e.createTextNode(s)),i.appendChild(o),i.appendChild(l),t.appendChild(i)}),t.outerHTML}},{key:"_multiChunkUpload",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.upload.s3.request,r=t.headers,n=t.method,a=t.url,e.next=3,ye.a.request({data:null,headers:r,method:n,url:a});case 3:return s=e.sent,i=(new DOMParser).parseFromString(s.data,"text/xml"),this.upload.s3.uploadId=i.querySelector("InitiateMultipartUploadResult > UploadId").textContent,e.abrupt("return",this._sendChunks());case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_sendChunks",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,s,i,o,l,c,u,d,p=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=function(e){return p.progress({current:p.offset+e.loaded,total:p.file.size,indeterminate:!e.lengthComputable})};case 1:if(!(this.offset<this.file.size)){e.next=16;break}return r=this.file.slice(this.offset,this.offset+this.upload.s3.chunkLength),e.next=5,this.$rest.post("file/chunk",Object(be["stringify"])({chunk:JSON.stringify({contentLength:r.size,partNumber:this.partNumber,s3UploadId:this.upload.s3.uploadId}),offset:0,uploadId:this.upload._id}));case 5:return n=e.sent.data.s3.request,a=n.method,s=n.url,e.next=10,ye.a.request({data:r,method:a,url:s,onUploadProgress:t});case 10:i=e.sent,this.etags[this.partNumber]=i.headers.etag,this.partNumber+=1,this.offset+=r.size,e.next=1;break;case 16:return this.progress({indeterminate:!0}),e.next=19,this.$rest.post("file/completion",Object(be["stringify"])({uploadId:this.upload._id}));case 19:return o=e.sent,l=o.data.s3FinalizeRequest,c=l.headers,u=l.method,d=l.url,e.next=23,ye.a.request({data:this._finalizeMultipartXml(),headers:c,method:u,url:d});case 23:return e.abrupt("return",o.data);case 24:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"start",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.upload.s3.chunked){e.next=2;break}return e.abrupt("return",this._multiChunkUpload());case 2:return t=this.upload.s3.request,r=t.headers,n=t.method,a=t.url,e.next=5,ye.a.request({data:this.file,headers:r,method:n,url:a,onUploadProgress:function(e){return s.progress({current:e.loaded,total:s.file.size,indeterminate:!e.lengthComputable})}});case 5:return this.progress({indeterminate:!0}),e.next=8,this.$rest.post("file/completion",Object(be["stringify"])({uploadId:this.upload._id}));case 8:return e.abrupt("return",e.sent.data);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"resume",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.upload.s3.chunked){e.next=2;break}return e.abrupt("return",this._sendChunks());case 2:return e.next=4,this.$rest.get("file/offset?uploadId=".concat(this.upload._id));case 4:return this.upload.s3.request=e.sent.data,e.abrupt("return",this.start());case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),_e=67108864,Re={s3:xe},Ce=function(){function e(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.progress,i=void 0===s?function(){return null}:s,o=a.params,l=void 0===o?{}:o,c=a.chunkLen,u=void 0===c?_e:c;Object(ve["a"])(this,e),Object.assign(this,{$rest:t,file:r,params:l,parent:n,progress:i,chunkLen:u,upload:null,offset:0,behavior:null})}return Object(ge["a"])(e,[{key:"_sendChunks",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=function(e){return s.progress({current:s.offset+e.loaded,total:s.file.size,indeterminate:!e.lengthComputable})};case 1:if(!(this.offset<this.file.size)){e.next=11;break}return r=Math.min(this.offset+this.chunkLen,this.file.size),n=this.file.slice(this.offset,r),a="file/chunk?offset=".concat(this.offset,"&uploadId=").concat(this.upload._id),e.next=7,this.$rest.post(a,n,{onUploadProgress:t,headers:{"Content-Type":"application/octet-stream"}});case 7:this.upload=e.sent.data,this.offset=r,e.next=1;break;case 11:return e.abrupt("return",this.upload);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"start",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.progress({indeterminate:!0}),e.next=3,this.$rest.post("/file",Object(be["stringify"])(Object(S["a"])({parentType:this.parent._modelType,parentId:this.parent._id,name:this.file.name,size:this.file.size,mimeType:this.file.type},this.params)));case 3:if(this.upload=e.sent.data,!this.upload.behavior||!Re[this.upload.behavior]){e.next=7;break}return this.behavior=new Re[this.upload.behavior](this),e.abrupt("return",this.behavior.start());case 7:return e.abrupt("return",this._sendChunks());case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"resume",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.upload){e.next=2;break}return e.abrupt("return",this.start());case 2:if(this.progress({indeterminate:!0}),!this.behavior){e.next=5;break}return e.abrupt("return",this.behavior.resume());case 5:return e.next=7,this.$rest.get("file/offset?uploadId=".concat(this.upload._id));case 7:return this.offset=e.sent.data.offset,e.abrupt("return",this._sendChunks());case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),Oe={mixins:[B],inject:["girderRest"],props:{dest:{required:!0,type:Object},multiple:{default:!0,type:Boolean},preUpload:{default:function(){},type:Function},postUpload:{default:function(){},type:Function}},data:function(){return{dragover:!1,dropzoneClass:null,errorMessage:null,files:[],uploading:!1}},computed:{dropzoneMessage:function(){return this.multiple?"Drag files here or click to select them":"Drag a file here or click to select one"},statusMessage:function(){return this.uploading?"".concat(this.formatSize(this.totalProgress)," / ").concat(this.formatSize(this.totalSize)," ")+"(".concat(this.totalProgressPercent,"%)"):"".concat(this.files.length," selected (").concat(this.formatSize(this.totalSize)," total)")},totalProgress:function(){return this.files.reduce(function(e,t){return e+(t.progress.current||0)},0)},totalSize:function(){return this.files.reduce(function(e,t){return e+t.file.size},0)},totalProgressPercent:function(){return this.progressPercent({current:this.totalProgress,total:this.totalSize})}},methods:{progressPercent:function(e){return e.total?Math.round(100*(e.current||0)/e.total):0},filesChanged:function(e){var t=e.target;this.files=Object(L["a"])(t.files).map(function(e){return{file:e,status:"pending",progress:{},upload:null,result:null}})},start:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=[],this.uploading=!0,this.errorMessage=null,e.next=5,this.preUpload();case 5:r=regeneratorRuntime.mark(function e(r){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=s.files[r],"done"!==n.status){e.next=5;break}t.push(n.result),e.next=30;break;case 5:if(a=function(e){n.progress=Object.assign({},n.progress,e)},n.status="uploading",e.prev=7,!n.upload){e.next=14;break}return e.next=11,n.upload.resume();case 11:n.result=e.sent,e.next=18;break;case 14:return n.upload=new Ce(s.girderRest,n.file,s.dest,{progress:a}),e.next=17,n.upload.start();case 17:n.result=e.sent;case 18:delete n.upload,t.push(n.result),n.status="done",e.next=30;break;case 23:return e.prev=23,e.t0=e["catch"](7),e.t0.response?s.errorMessage=e.t0.response.data.message||"An error occurred during upload.":s.errorMessage="Connection failed.",n.status="error",s.uploading=!1,s.$emit("error",{error:e.t0,file:n}),e.abrupt("return",{v:void 0});case 30:case"end":return e.stop()}},e,this,[[7,23]])}),n=0;case 7:if(!(n<this.files.length)){e.next=15;break}return e.delegateYield(r(n),"t0",9);case 9:if(a=e.t0,"object"!==Object(me["a"])(a)){e.next=12;break}return e.abrupt("return",a.v);case 12:n+=1,e.next=7;break;case 15:return e.next=17,this.postUpload();case 17:this.uploading=!1,this.files=[],this.$emit("done",t);case 20:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},je=Oe,Pe=(r("30b3"),Object(b["a"])(je,fe,he,!1,null,"1c88f959",null)),$e=Pe.exports,Ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{flat:"",height:"100%"}},[r("v-layout",{staticClass:"pa-2",attrs:{column:"","fill-height":""}},[e._t("header",[r("v-card-title",{staticClass:"pb-0",attrs:{"primary-title":""}},[r("h5",{staticClass:"display-1 secondary--text text--darken-1"},[e._v(e._s(e.edit?"Edit Folder":"Create New Folder"))])])]),r("v-card-text",[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{ref:"folderName",attrs:{autofocus:"",label:"Folder Name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),r("girder-breadcrumb",{staticClass:"mb-3",attrs:{location:e.location,disabled:!0,append:e.append}}),r("girder-markdown-editor",{attrs:{label:"Description (Optional)"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),r("v-alert",{attrs:{type:"error",value:!!e.error,dismissible:"",transition:"scale-transition"}},[e._v(e._s(e.error))])],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{flat:""},on:{click:function(t){e.$emit("dismiss")}}},[e._v("Cancel")]),r("v-btn",{attrs:{depressed:"",color:"primary",disabled:!e.name},on:{click:e.upsert}},[e._v(e._s(e.edit?"Save Changes":"Create Folder"))])],1)],2)],1)},Te=[],ze="folder",Ue={components:{GirderBreadcrumb:H,GirderMarkdownEditor:pe},props:{location:{type:Object,required:!0,validator:function(e){return e._modelType&&e._id}},edit:{type:Boolean,default:!1},preUpsert:{type:Function,default:function(){}},postUpsert:{type:Function,default:function(){}}},inject:["girderRest"],data:function(){return{name:"",description:"",error:""}},computed:{append:function(){return this.edit?[]:[this.name||"New Folder"]}},mounted:function(){this.edit&&this.loadFolder(this.location._id)},methods:{upsert:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.error="",e.prev=1,e.next=4,this.preUpsert();case 4:if(!this.edit){e.next=9;break}return e.next=7,this.girderRest.put("".concat(ze,"/").concat(this.location._id),Object(be["stringify"])({name:this.name,description:this.description}));case 7:e.next=11;break;case 9:return e.next=11,this.girderRest.post(ze,Object(be["stringify"])({parentType:this.location._modelType,parentId:this.location._id,name:this.name,description:this.description,reuseExisting:!1}));case 11:return e.next=13,this.postUpsert();case 13:this.name="",this.description="",this.$emit("done"),e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](1),this.$emit("error",{type:"upsert",error:e.t0}),this.setError(e.t0);case 22:case"end":return e.stop()}},e,this,[[1,18]])}));return function(){return e.apply(this,arguments)}}(),loadFolder:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.error="",e.prev=1,e.next=4,this.girderRest.get("".concat(ze,"/").concat(t));case 4:r=e.sent,n=r.data,this.name=n.name,this.description=n.description,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](1),this.$emit("error",{type:"load",error:e.t0}),this.setError(e.t0);case 14:case"end":return e.stop()}},e,this,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),setError:function(e){if(e.response){var t=e.response.data,r=void 0===t?{}:t,n=r.type,a=void 0===n?"unknown":n,s=r.message,i=r.field,o=void 0===i?"unknown":i;this.error="".concat(a," error on ").concat(o,": ").concat(s||e.message)}else this.error="Unknown error: ".concat(e.message)}}},Fe=Ue,Me=Object(b["a"])(Fe,Ee,Te,!1,null,null,null),Ne=Me.exports,Ie=r("dc0a"),Se=r("d328"),Le=r("11d9"),Be=r("1083"),qe=r("a78e"),Ge=r.n(qe);function De(e){Ge.a.set("girderToken",e.token,{expires:new Date(e.expires)})}var Ae=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.apiRoot,a=void 0===n?"/api/v1":n,s=r.token,i=void 0===s?Ge.a.get("girderToken"):s,o=r.axios,l=void 0===o?ye.a.create():o,c=r.cors,u=void 0===c||c;return Object(ve["a"])(this,t),e=Object(Se["a"])(this,Object(Le["a"])(t).call(this,{data:{user:null,token:i}})),Object.assign(Object(Be["a"])(Object(Be["a"])(e)),l,{apiRoot:a,cors:u}),e.interceptors.request.use(function(t){return Object(S["a"])({},t,{baseURL:e.apiRoot,headers:Object(S["a"])({"Girder-Token":e.token},t.headers)})}),e}return Object(ge["a"])(t,[{key:"login",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.logout();case 3:e.next=7;break;case 5:e.prev=5,e.t0=e["catch"](0);case 7:return e.next=9,this.get("user/authentication",{headers:{"Girder-Authorization":"Basic ".concat(window.btoa("".concat(t,":").concat(r))),"Girder-Token":null}});case 9:return n=e.sent,this.token=n.data.authToken.token,this.user=n.data.user,this.cors&&De(n.data.authToken),this.$emit("login",this.user),e.abrupt("return",n);case 15:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t,r){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.token){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.delete("user/authentication");case 5:e.next=11;break;case 7:if(e.prev=7,e.t0=e["catch"](2),401===e.t0.response.status){e.next=11;break}throw e.t0;case 11:return e.prev=11,this.token=null,this.user=null,Ge.a.remove("girderToken"),this.$emit("logout"),e.finish(11);case 17:case"end":return e.stop()}},e,this,[[2,7,11,17]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchUser",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.get("user/me");case 2:return t=e.sent,this.user=t.data,null===this.user&&(this.token=null),e.abrupt("return",this.user);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,r,n,a,s){var i,o,l=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=l.length>5&&void 0!==l[5]&&l[5],e.next=3,this.post("user",Object(be["stringify"])({login:t,email:r,firstName:n,lastName:a,password:s,admin:i}));case 3:if(o=e.sent,o.data.authToken){e.next=6;break}return e.abrupt("return",o);case 6:return this.token=o.data.authToken.token,this.user=o.data,this.cors&&De(o.data.authToken),this.$emit("register",this.user),this.$emit("login",this.user),e.abrupt("return",o);case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n,a,s){return e.apply(this,arguments)}}()}]),Object(Ie["a"])(t,e),t}(n["default"]),Je=r("c0a4"),He=r.n(Je),Xe={theme:{primary:He.a.lightBlue.darken1,secondary:He.a.blueGrey,accent:He.a.lightBlue.darken1,error:He.a.red,info:He.a.lightBlue.lighten1},iconfont:"mdi",icons:{bitbucket:"mdi-bitbucket",box_com:"mdi-package",chevron:"mdi-chevron-right",collection:"mdi-file-tree",edit:"mdi-pencil",file:"mdi-file",fileNew:"mdi-file-plus",fileUpload:"mdi-file-upload",folder:"mdi-folder",folderNew:"mdi-folder-plus",github:"mdi-github-circle",globe:"mdi-earth",globus:"mdi-earth",google:"mdi-google",group:"mdi-account-multiple",item:"mdi-file",linkedin:"mdi-linkedin",lock:"mdi-lock",login:"mdi-login",logout:"mdi-logout",preview:"mdi-file-find",user:"mdi-account"}};function Ke(e){e.use(o.a,Xe),e.use(s.a)}var Ve={install:Ke},We=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{staticClass:"app"},[r("v-toolbar",[r("v-toolbar-title",[e._v("Controls")]),r("v-spacer"),r("v-toolbar-items",[r("v-layout",{staticClass:"pt-3",attrs:{row:"","align-center":"","justify-center":""}},[r("v-checkbox",{staticClass:"px-2",attrs:{label:"Select"},model:{value:e.selectEnabled,callback:function(t){e.selectEnabled=t},expression:"selectEnabled"}}),r("v-checkbox",{staticClass:"px-2",attrs:{label:"New Folder"},model:{value:e.newFolderEnabled,callback:function(t){e.newFolderEnabled=t},expression:"newFolderEnabled"}}),r("v-checkbox",{staticClass:"px-2",attrs:{label:"Upload"},model:{value:e.newItemEnabled,callback:function(t){e.newItemEnabled=t},expression:"newItemEnabled"}})],1),r("v-btn",{attrs:{flat:"",icon:""},on:{click:function(t){e.girderRest.logout()}}},[r("v-icon",[e._v("$vuetify.icons.logout")])],1)],1)],1),r("v-dialog",{attrs:{value:e.loggedOut,persistent:"","full-width":"","max-width":"600px"}},[r("girder-auth",{attrs:{register:!0,oauth:!0,"forgot-password-url":e.forgotPasswordUrl}})],1),r("v-dialog",{attrs:{"full-width":"","max-width":"800px"},model:{value:e.uploader,callback:function(t){e.uploader=t},expression:"uploader"}},[e.uploadDest?r("girder-upload",{attrs:{dest:e.uploadDest,"post-upload":e.postUpload,multiple:"multiple"}}):e._e()],1),r("v-dialog",{attrs:{"full-width":"","max-width":"800px"},model:{value:e.newFolder,callback:function(t){e.newFolder=t},expression:"newFolder"}},[e.location?r("girder-upsert-folder",{key:e.location._id,attrs:{location:e.location,"post-upsert":e.postUpsert},on:{dismiss:function(t){e.newFolder=!1}}}):e._e()],1),r("v-container",{directives:[{name:"show",rawName:"v-show",value:!e.loggedOut,expression:"!loggedOut"}]},[r("h4",{staticClass:"display-1 pb-3"},[e._v("Girder Vue Demo")]),r("v-card",[e.location?r("girder-data-browser",{ref:"girderBrowser",attrs:{location:e.location,"select-enabled":e.selectEnabled,"new-item-enabled":e.newItemEnabled,"new-folder-enabled":e.newFolderEnabled},on:{"update:location":function(t){e.location=t},"click:newitem":function(t){e.uploader=!0},"click:newfolder":function(t){e.newFolder=!0}}}):e._e()],1)],1)],1)},Ye=[],Qe={name:"App",inject:["girderRest"],components:{GirderAuth:M,GirderDataBrowser:Q,GirderUpload:$e,GirderUpsertFolder:Ne},data:function(){return{multiple:!0,uploader:!1,newFolder:!1,browserLocation:null,forgotPasswordUrl:"/#?dialog=resetpassword",selectEnabled:!0,newItemEnabled:!0,newFolderEnabled:!0}},asyncComputed:{folder:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.girderRest.user){e.next=11;break}return e.prev=1,e.next=4,this.girderRest.get("folder",{params:{parentType:"user",parentId:this.girderRest.user._id}});case 4:return e.abrupt("return",e.sent.data[0]);case 7:e.prev=7,e.t0=e["catch"](1),t=e.t0.response,this.error=t?t.data.message:"Could not connect to server: ".concat(this.girderRest.apiRoot);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}},e,this,[[1,7]])}));return function(){return e.apply(this,arguments)}}()},computed:{location:{get:function(){return this.browserLocation?this.browserLocation:this.girderRest.user?{_modelType:"user",_id:this.girderRest.user._id}:null},set:function(e){this.browserLocation=e}},loggedOut:function(){return null===this.girderRest.user},uploadDest:function(){return this.location?"folder"===this.location._modelType?this.location:this.folder:null}},methods:{postUpload:function(){return this.$refs.girderBrowser.refresh(),this.uploader=!1,new Promise(function(e){return setTimeout(e,400)})},postUpsert:function(){return this.$refs.girderBrowser.refresh(),this.newFolder=!1,new Promise(function(e){return setTimeout(e,400)})}}},Ze=Qe,et=(r("5c0b"),Object(b["a"])(Ze,We,Ye,!1,null,null,null)),tt=et.exports;n["default"].use(Ve);var rt=new Ae({apiRoot:"https://data.kitware.com/api/v1"});rt.fetchUser().then(function(){new n["default"]({render:function(e){return e(tt)},provide:{girderRest:rt}}).$mount("#app")})},"5c0b":function(e,t,r){"use strict";var n=r("5e27"),a=r.n(n);a.a},"5e27":function(e,t,r){},"603c":function(e,t,r){},c90e:function(e,t,r){},fe43:function(e,t,r){},fed8:function(e,t,r){}});
//# sourceMappingURL=app.945a5745.js.map